<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Menu Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@600;700;800&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style/admin.css"/>
    
  </head>

  <body>
    <!-- LOGIN SCREEN -->
    <div id="loginScreen">
      <div class="login-card">
        <img id="loginLogo" src="https://prteyzbjjzkfyogphwrg.supabase.co/storage/v1/object/public/menu-images/KioskBrand/WebKiosk.jpg" alt="Brand logo" />
        <h1 id="loginBrand">Web Kiosk</h1>
        <p id="loginSlogan">Sign in to manage your menu</p>
        <input
          id="email"
          type="email"
          placeholder="Email"
          autocomplete="email"
        />
        <input
          id="password"
          type="password"
          placeholder="Password"
          autocomplete="current-password"
        />
        <button id="loginBtn">Sign in</button>
      </div>
    </div>

    <!-- DASHBOARD SCREEN -->
    <div id="dashboardScreen">
      <div class="dashboard-container">
        <!-- SIDEBAR -->
        <aside class="sidebar">
          <div class="sidebar-brand">
            <img id="sidebarLogo" src="" alt="Brand logo" />
            <div class="sidebar-brand-text">
              <h2 id="sidebarBrand">Admin</h2>
              <p id="sidebarSlogan">Dashboard</p>
            </div>
          </div>

          <nav class="sidebar-nav">
            <div class="nav-item active" data-section="menu">
              <svg
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"
                ></path>
              </svg>
              Menu Items
            </div>
            <div class="nav-item" data-section="branding">
              <svg
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
                ></path>
              </svg>
              Branding
            </div>
          </nav>

          <div class="sidebar-footer">
            <button class="logout-btn" id="logoutBtn">
              <svg
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
                style="width: 18px; height: 18px"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                ></path>
              </svg>
              Logout
            </button>
          </div>
        </aside>

        <!-- MAIN CONTENT -->
        <div class="main-content">
          <header class="header">
            <h1 id="headerTitle">Menu Items</h1>
            <div class="header-actions">
              <button class="btn btn-primary" id="addItemBtn">
                <svg
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                  style="width: 18px; height: 18px"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 4v16m8-8H4"
                  ></path>
                </svg>
                Add Item
              </button>
            </div>
          </header>

          <main class="content-area">
            <!-- MENU ITEMS SECTION -->
            <section class="section active" id="menuSection">
              <div class="table-container">
                <table class="table">
                  <thead>
                    <tr>
                      <th style="width: 72px">Image</th>
                      <th>Name</th>
                      <th style="width: 120px">Price</th>
                      <th>Description</th>
                      <th style="width: 100px">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="menuTableBody">
                    <!-- Items will be inserted here -->
                  </tbody>
                </table>
                <div id="emptyState" class="empty-state" style="display: none">
                  <svg
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
                    ></path>
                  </svg>
                  <h3>No menu items yet</h3>
                  <p>Get started by adding your first menu item</p>
                </div>
              </div>
            </section>

            <!-- BRANDING SECTION -->
            <section class="section" id="brandingSection">
              <div class="branding-card">
                <div class="branding-preview">
                  <img id="brandingPreviewLogo" src="" alt="Logo preview" />
                  <h3 id="brandingPreviewName">Your Brand</h3>
                  <p id="brandingPreviewSlogan">Your slogan here</p>
                </div>

                <div class="form-group">
                  <label class="form-label">Brand Name</label>
                  <input
                    type="text"
                    class="form-input"
                    id="brandNameInput"
                    placeholder="Enter brand name"
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Slogan</label>
                  <input
                    type="text"
                    class="form-input"
                    id="brandSloganInput"
                    placeholder="Enter slogan"
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Logo</label>
                  <div class="form-file-upload">
                    <input
                      type="file"
                      class="form-file-input"
                      id="brandLogoInput"
                      accept="image/*"
                    />
                    <label for="brandLogoInput" class="form-file-label">
                      <svg
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                        ></path>
                      </svg>
                      <p><span>Click to upload</span> or drag and drop</p>
                    </label>
                    <div id="brandLogoPreview" class="image-preview"></div>
                  </div>
                </div>

                <button class="btn btn-primary" id="saveBrandingBtn">
                  Save Branding
                </button>
              </div>
            </section>
          </main>
        </div>
      </div>
    </div>

    <!-- ITEM MODAL -->
    <div id="itemModal" class="modal-backdrop">
      <div class="modal">
        <div class="modal-header">
          <h2 id="modalTitle">Add Menu Item</h2>
        </div>
        <div class="modal-body">
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Item Name</label>
              <input
                type="text"
                class="form-input"
                id="itemName"
                placeholder="e.g., Margherita Pizza"
              />
            </div>
            <div class="form-group">
              <label class="form-label">Price (â‚±)</label>
              <input
                type="number"
                class="form-input"
                id="itemPrice"
                placeholder="0.00"
                step="0.01"
              />
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Description</label>
            <textarea
              class="form-textarea"
              id="itemDescription"
              placeholder="Describe your menu item..."
            ></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">Image</label>
            <div class="form-file-upload">
              <input
                type="file"
                class="form-file-input"
                id="itemImage"
                accept="image/*"
              />
              <label for="itemImage" class="form-file-label">
                <svg
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                  ></path>
                </svg>
                <p><span>Click to upload</span> or drag and drop</p>
              </label>
              <div id="itemImagePreview" class="image-preview"></div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="cancelItemBtn">Cancel</button>
          <button class="btn btn-primary" id="saveItemBtn">Save Item</button>
        </div>
      </div>
    </div>

    <!-- DELETE CONFIRM MODAL -->
    <div id="deleteModal" class="modal-backdrop">
      <div class="modal confirm-dialog">
        <div class="modal-body">
          <h3>Delete menu item?</h3>
          <p>This action cannot be undone.</p>
          <div class="confirm-actions">
            <button class="btn btn-secondary" id="cancelDeleteBtn">
              Cancel
            </button>
            <button class="btn btn-danger" id="confirmDeleteBtn">
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- LOGOUT CONFIRM MODAL -->
    <div id="logoutModal" class="modal-backdrop">
      <div class="modal confirm-dialog">
        <div class="modal-body">
          <h3>Log out?</h3>
          <p>You'll need to sign in again to manage the menu.</p>
          <div class="confirm-actions">
            <button class="btn btn-secondary" id="cancelLogoutBtn">
              Cancel
            </button>
            <button class="btn btn-danger" id="confirmLogoutBtn">
              Log out
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- STATUS TOAST -->
    <div id="statusToast" class="status-toast">
      <svg
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M5 13l4 4L19 7"
        ></path>
      </svg>
      <div class="status-toast-content">
        <p id="statusMessage">Success</p>
      </div>
    </div>

    <script type="module" src="script/Admin/admin.js"></script>
  </body>
</html>